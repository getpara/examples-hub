# Template for other folder test suite workflows
# To use: Copy this file and replace:
# - FOLDER_NAME with: server, mobile, specialized
# - Update e2e-matrix if needed
# - Adjust build commands if different

name: Test Suite - FOLDER_NAME

on:
  pull_request:
    branches: [main]
    paths:
      - 'FOLDER_NAME/**'
      - '.github/workflows/test-suite-FOLDER_NAME.yml'
      - 'scripts/ci/**'
      - 'package.json'
      - 'yarn.lock'
      - 'tsconfig.json'
  
  push:
    branches: [main]
    paths:
      - 'FOLDER_NAME/**'
      - '.github/workflows/test-suite-FOLDER_NAME.yml'
      - 'scripts/ci/**'
      - 'package.json'
      - 'yarn.lock'
      - 'tsconfig.json'
  
  workflow_dispatch:
    inputs:
      skip_build:
        description: 'Skip build step (faster iteration)'
        type: boolean
        default: false
      skip_e2e:
        description: 'Skip E2E tests'
        type: boolean
        default: false

concurrency:
  group: test-suite-FOLDER_NAME-${{ github.ref }}
  cancel-in-progress: true

env:
  NODE_VERSION: "20.19.0"
  FOLDER: "FOLDER_NAME"

# Copy jobs section from test-suite-web.yml and adjust as needed:
# - For server: might need different runtimes (deno, bun)
# - For mobile: might need emulators
# - For specialized: might have unique requirements